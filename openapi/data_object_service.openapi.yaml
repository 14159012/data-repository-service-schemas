openapi: 3.0.0
servers: []
info:
  title: data_objects_service.proto
  version: version not set
paths:
  /ga4gh/dos/v1/databundles:
    post:
      summary: Create a new Data Bundle
      operationId: CreateDataBundle
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ga4ghCreateDataBundleResponse'
      tags:
        - DataObjectService
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ga4ghCreateDataBundleRequest'
        required: true
  /ga4gh/dos/v1/databundles/list:
    post:
      summary: List the Data Bundles
      operationId: ListDataBundles
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ga4ghListDataBundlesResponse'
      tags:
        - DataObjectService
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ga4ghListDataBundlesRequest'
        required: true
  '/ga4gh/dos/v1/databundles/{data_bundle_id}':
    get:
      summary: Retrieve a Data Bundle
      operationId: GetDataBundle
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ga4ghGetDataBundleResponse'
      parameters:
        - name: data_bundle_id
          in: path
          required: true
          schema:
            type: string
        - name: version
          description: >-
            OPTIONAL

            If provided will return the requested version of the selected Data
            Bundle.

            Otherwise, only the latest version is returned.
          in: query
          required: false
          schema:
            type: string
      tags:
        - DataObjectService
    delete:
      summary: Delete a Data Bundle
      operationId: DeleteDataBundle
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ga4ghDeleteDataBundleResponse'
      parameters:
        - name: data_bundle_id
          in: path
          required: true
          schema:
            type: string
      tags:
        - DataObjectService
    put:
      summary: Update a Data Bundle
      operationId: UpdateDataBundle
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ga4ghUpdateDataBundleResponse'
      parameters:
        - name: data_bundle_id
          in: path
          required: true
          schema:
            type: string
      tags:
        - DataObjectService
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ga4ghUpdateDataBundleRequest'
        required: true
  '/ga4gh/dos/v1/databundles/{data_bundle_id}/versions':
    get:
      operationId: GetDataBundleVersions
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ga4ghGetDataBundleVersionsResponse'
      parameters:
        - name: data_bundle_id
          in: path
          required: true
          schema:
            type: string
      tags:
        - DataObjectService
  /ga4gh/dos/v1/dataobjects:
    post:
      summary: Make a new Data Object
      operationId: CreateDataObject
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ga4ghCreateDataObjectResponse'
      tags:
        - DataObjectService
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ga4ghCreateDataObjectRequest'
        required: true
  /ga4gh/dos/v1/dataobjects/list:
    post:
      summary: List the Data Objects
      operationId: ListDataObjects
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ga4ghListDataObjectsResponse'
      tags:
        - DataObjectService
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ga4ghListDataObjectsRequest'
        required: true
  '/ga4gh/dos/v1/dataobjects/{data_object_id}':
    get:
      summary: Retrieve a Data Object
      operationId: GetDataObject
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ga4ghGetDataObjectResponse'
      parameters:
        - name: data_object_id
          in: path
          required: true
          schema:
            type: string
        - name: version
          description: >-
            OPTIONAL

            If provided will return the requested version of the selected Data
            Object.
          in: query
          required: false
          schema:
            type: string
      tags:
        - DataObjectService
    delete:
      summary: Delete a Data Object index entry
      operationId: DeleteDataObject
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ga4ghDeleteDataObjectResponse'
      parameters:
        - name: data_object_id
          in: path
          required: true
          schema:
            type: string
      tags:
        - DataObjectService
    put:
      summary: Update a Data Object
      operationId: UpdateDataObject
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ga4ghUpdateDataObjectResponse'
      parameters:
        - name: data_object_id
          in: path
          required: true
          schema:
            type: string
      tags:
        - DataObjectService
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ga4ghUpdateDataObjectRequest'
        required: true
  '/ga4gh/dos/v1/dataobjects/{data_object_id}/versions':
    get:
      operationId: GetDataObjectVersions
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ga4ghGetDataObjectVersionsResponse'
      parameters:
        - name: data_object_id
          in: path
          required: true
          schema:
            type: string
      tags:
        - DataObjectService
components:
  schemas:
    ga4ghChecksum:
      type: object
      properties:
        checksum:
          type: string
          description: |-
            REQUIRED
            The hex-string encoded checksum for the Data.
        type:
          type: string
          description: >-
            OPTIONAL

            The digest method used to create the checksum. If left unspecified
            md5

            will be assumed.


            possible values:

            md5                # most blob stores provide a checksum using this

            multipart-md5      # multipart uploads provide a specialized tag in
            S3

            sha256

            sha512
    ga4ghChecksumRequest:
      type: object
      properties:
        checksum:
          type: string
          description: |-
            REQUIRED
            The hexlified checksum that one would like to match on.
        type:
          type: string
          description: >-
            OPTIONAL

            If provided will restrict responses to those that match the provided

            type.


            possible values:

            md5                # most blob stores provide a checksum using this

            multipart-md5      # multipart uploads provide a specialized tag in
            S3

            sha256

            sha512
    ga4ghCreateDataBundleRequest:
      type: object
      properties:
        data_bundle:
          $ref: '#/components/schemas/ga4ghDataBundle'
    ga4ghCreateDataBundleResponse:
      type: object
      properties:
        data_bundle_id:
          type: string
          description: |-
            REQUIRED
            The identifier of the Data Bundle created.
    ga4ghCreateDataObjectRequest:
      type: object
      properties:
        data_object:
          $ref: '#/components/schemas/ga4ghDataObject'
          description: |-
            REQUIRED
            The data object to be created. The ID scheme is left up to the
            implementor but should be unique to the server instance.
      description: |-
        The Data Object one would like to index. One must provide any aliases
        and URLs to this file when sending the CreateDataObjectRequest. It is up
        to implementations to validate that the Data Object is available from
        the provided URLs.
    ga4ghCreateDataObjectResponse:
      type: object
      properties:
        data_object_id:
          type: string
          description: The ID of the created Data Object.
    ga4ghDataBundle:
      type: object
      properties:
        id:
          type: string
          title: |-
            REQUIRED
            An identifier, unique to this Data Bundle
        data_object_ids:
          type: array
          items:
            type: string
          description: |-
            REQUIRED
            The list of Data Objects that this Data Bundle contains.
        created:
          type: string
          format: date-time
          description: |-
            REQUIRED
            Timestamp of object creation in RFC3339.
        updated:
          type: string
          format: date-time
          description: >-
            REQUIRED

            Timestamp of update in RFC3339, identical to create timestamp in
            systems

            that do not support updates.
        version:
          type: string
          description: >-
            REQUIRED

            A string representing a version, some systems may use checksum, a
            RFC3339

            timestamp, or incrementing version number. For systems that do not
            support

            versioning please use your update timestamp as your version.
        checksums:
          type: array
          items:
            $ref: '#/components/schemas/ga4ghChecksum'
          description: |-
            REQUIRED
            At least one checksum must be provided.
            The data bundle checksum is computed over all the checksums of the
            Data Objects that bundle contains.
        description:
          type: string
          description: |-
            OPTIONAL
            A human readable description.
        aliases:
          type: array
          items:
            type: string
          description: |-
            OPTIONAL
            A list of strings that can be used to identify this Data Bundle.
        system_metadata:
          $ref: '#/components/schemas/protobufStruct'
          description: >-
            OPTIONAL

            A set of key-value pairs that represent system metadata about the
            object.
        user_metadata:
          $ref: '#/components/schemas/protobufStruct'
          description: >-
            OPTIONAL

            A set of key-value pairs that represent metadata provided by the
            uploader.
      title: 'Data Bundle: A collection of Data Objects'
    ga4ghDataObject:
      type: object
      properties:
        id:
          type: string
          description: |-
            REQUIRED
            An identifier unique to this Data Object.
        name:
          type: string
          description: |-
            OPTIONAL
            A string that can be optionally used to name a Data Object.
        size:
          type: string
          format: int64
          description: |-
            REQUIRED
            The computed size in bytes.
        created:
          type: string
          format: date-time
          description: |-
            REQUIRED
            Timestamp of object creation in RFC3339.
        updated:
          type: string
          format: date-time
          description: >-
            OPTIONAL

            Timestamp of update in RFC3339, identical to create timestamp in
            systems

            that do not support updates.
        version:
          type: string
          description: |-
            OPTIONAL
            A string representing a version.
        mime_type:
          type: string
          description: |-
            OPTIONAL
            A string providing the mime-type of the Data Object.
            For example, "application/json".
        checksums:
          type: array
          items:
            $ref: '#/components/schemas/ga4ghChecksum'
          description: >-
            REQUIRED

            The checksum of the Data Object. At least one checksum must be
            provided.
        urls:
          type: array
          items:
            $ref: '#/components/schemas/ga4ghURL'
          description: |-
            OPTIONAL
            The list of URLs that can be used to access the Data Object.
        description:
          type: string
          description: |-
            OPTIONAL
            A human readable description of the contents of the Data Object.
        aliases:
          type: array
          items:
            type: string
          title: |-
            OPTIONAL
            A list of strings that can be used to find this Data Object.
            These aliases can be used to represent the Data Object's location in
            a directory (e.g. "bucket/folder/file.name") to make Data Objects
            more discoverable. They might also be used to represent
      title: 'Data Object: a file, API or other resource'
    ga4ghDeleteDataBundleResponse:
      type: object
      properties:
        data_bundle_id:
          type: string
    ga4ghDeleteDataObjectResponse:
      type: object
      properties:
        data_object_id:
          type: string
          description: |-
            REQUIRED
            The identifier of the Data Object deleted.
    ga4ghGetDataBundleResponse:
      type: object
      properties:
        data_bundle:
          $ref: '#/components/schemas/ga4ghDataBundle'
    ga4ghGetDataBundleVersionsResponse:
      type: object
      properties:
        data_bundles:
          type: array
          items:
            $ref: '#/components/schemas/ga4ghDataBundle'
          description: >-
            REQUIRED

            All versions of the Data Bundles that match the
            GetDataBundleVersions

            request.
    ga4ghGetDataObjectResponse:
      type: object
      properties:
        data_object:
          $ref: '#/components/schemas/ga4ghDataObject'
          description: |-
            REQUIRED
            The Data Object that coincides with a specific GetDataObjectRequest.
    ga4ghGetDataObjectVersionsResponse:
      type: object
      properties:
        data_objects:
          type: array
          items:
            $ref: '#/components/schemas/ga4ghDataObject'
          description: >-
            REQUIRED

            All versions of the Data Objects that match the
            GetDataObjectVersions

            request.
    ga4ghListDataBundlesRequest:
      type: object
      properties:
        alias:
          type: string
          description: >-
            OPTIONAL

            If provided returns Data Bundles that have any alias that matches
            the

            request.
        checksum:
          $ref: '#/components/schemas/ga4ghChecksum'
          description: |-
            OPTIONAL
            If provided, will only return Data Bundles which have the provided
            checksum.
        page_size:
          type: integer
          format: int32
          description: |-
            OPTIONAL
            Specifies the maximum number of results to return in a single page.
            If unspecified, a system default will be used.
        page_token:
          type: string
          description: >-
            OPTIONAL

            The continuation token, which is used to page through large result
            sets.

            To get the next page of results, set this parameter to the value of

            `next_page_token` from the previous response.
      title: Bundles
    ga4ghListDataBundlesResponse:
      type: object
      properties:
        data_bundles:
          type: array
          items:
            $ref: '#/components/schemas/ga4ghDataBundle'
          description: The list of Data Bundles.
        next_page_token:
          type: string
          description: >-
            The continuation token, which is used to page through large result
            sets.

            Provide this value in a subsequent request to return the next page
            of

            results. This field will be empty if there aren't any additional
            results.
    ga4ghListDataObjectsRequest:
      type: object
      properties:
        alias:
          type: string
          description: |-
            OPTIONAL
            If provided will only return Data Objects with the given alias.
        url:
          type: string
          description: |-
            OPTIONAL
            If provided will return only Data Objects with a that URL matches
            this string.
        checksum:
          $ref: '#/components/schemas/ga4ghChecksumRequest'
          title: |-
            OPTIONAL
            If provided will only return data object messages with the provided
            checksum. If the checksum type is provided
        page_size:
          type: integer
          format: int32
          description: |-
            OPTIONAL
            Specifies the maximum number of results to return in a single page.
            If unspecified, a system default will be used.
        page_token:
          type: string
          description: >-
            OPTIONAL

            The continuation token, which is used to page through large result
            sets.

            To get the next page of results, set this parameter to the value of

            `next_page_token` from the previous response.
      title: |-
        /-------------------------------------------------------------------
        A request to list all objects in a dataset
        /-------------------------------------------------------------------
    ga4ghListDataObjectsResponse:
      type: object
      properties:
        data_objects:
          type: array
          items:
            $ref: '#/components/schemas/ga4ghDataObject'
          description: The list of Data Objects.
        next_page_token:
          type: string
          description: >-
            The continuation token, which is used to page through large result
            sets.

            Provide this value in a subsequent request to return the next page
            of

            results. This field will be empty if there aren't any additional
            results.
      title: |-
        /-------------------------------------------------------------------
        A list of data objects
        /-------------------------------------------------------------------
    ga4ghURL:
      type: object
      properties:
        url:
          type: string
          description: |-
            REQUIRED
            A URL that can be used to access the file.
        system_metadata:
          $ref: '#/components/schemas/protobufStruct'
          description: >-
            OPTIONAL

            These values are reported by the underlying object store.

            A set of key-value pairs that represent system metadata about the
            object.
        user_metadata:
          $ref: '#/components/schemas/protobufStruct'
          description: >-
            OPTIONAL

            These values are reported by the underlying object store.

            A set of key-value pairs that represent metadata provided by the
            uploader.
    ga4ghUpdateDataBundleRequest:
      type: object
      properties:
        data_bundle_id:
          type: string
          title: REQUIRED
        data_bundle:
          $ref: '#/components/schemas/ga4ghDataBundle'
          description: |-
            REQUIRED
            The new Data Bundle content.
    ga4ghUpdateDataBundleResponse:
      type: object
      properties:
        data_bundle_id:
          type: string
          description: |-
            REQUIRED
            The identifier of the Data Bundle updated.
    ga4ghUpdateDataObjectRequest:
      type: object
      properties:
        data_object_id:
          type: string
          description: |-
            REQUIRED
            The identifier of the Data Object to be updated.
        data_object:
          $ref: '#/components/schemas/ga4ghDataObject'
          description: |-
            REQUIRED
            The new Data Object for this identifier.
    ga4ghUpdateDataObjectResponse:
      type: object
      properties:
        data_object_id:
          type: string
          description: |-
            REQUIRED
            The identifier of the Data Object updated.
    protobufListValue:
      type: object
      properties:
        values:
          type: array
          items:
            $ref: '#/components/schemas/protobufValue'
          description: Repeated field of dynamically typed values.
      description: |-
        `ListValue` is a wrapper around a repeated field of values.

        The JSON representation for `ListValue` is JSON array.
    protobufNullValue:
      type: string
      enum:
        - NULL_VALUE
      default: NULL_VALUE
      description: >-
        `NullValue` is a singleton enumeration to represent the null value for
        the

        `Value` type union.

         The JSON representation for `NullValue` is JSON `null`.

         - NULL_VALUE: Null value.
    protobufStruct:
      type: object
      properties:
        fields:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/protobufValue'
          description: Unordered map of dynamically typed values.
      description: |-
        `Struct` represents a structured data value, consisting of fields
        which map to dynamically typed values. In some languages, `Struct`
        might be supported by a native representation. For example, in
        scripting languages like JS a struct is represented as an
        object. The details of that representation are described together
        with the proto support for the language.

        The JSON representation for `Struct` is JSON object.
    protobufValue:
      type: object
      properties:
        null_value:
          $ref: '#/components/schemas/protobufNullValue'
          description: Represents a null value.
        number_value:
          type: number
          format: double
          description: Represents a double value.
        string_value:
          type: string
          description: Represents a string value.
        bool_value:
          type: boolean
          format: boolean
          description: Represents a boolean value.
        struct_value:
          $ref: '#/components/schemas/protobufStruct'
          description: Represents a structured value.
        list_value:
          $ref: '#/components/schemas/protobufListValue'
          description: Represents a repeated `Value`.
      description: |-
        `Value` represents a dynamically typed value which can be either
        null, a number, a string, a boolean, a recursive struct value, or a
        list of values. A producer of value is expected to set one of that
        variants, absence of any variant indicates an error.

        The JSON representation for `Value` is JSON value.

